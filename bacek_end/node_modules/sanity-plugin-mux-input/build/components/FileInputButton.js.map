{"version":3,"sources":["../../src/components/FileInputButton.js"],"names":["HiddenInput","styled","input","Label","label","handleSelect","event","onSelect","target","files","handleButtonClick","inputRef","current","click","FileInputButton","type","props","_inputId","React","useRef","width"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AAEA,IAAMA,WAAW,GAAGC,0BAAOC,KAAV,qLAAjB;;AASA,IAAMC,KAAK,GAAGF,0BAAOG,KAAV,gGAAX;;AAIA,IAAMC,YAAY,GAAG,QAAuB;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,QAAc,QAAdA,QAAc;;AAC1C,MAAIA,QAAJ,EAAc;AACZA,IAAAA,QAAQ,CAACD,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAR;AACD;AACF,CAJD;;AAMA,IAAMC,iBAAiB,GAAIC,QAAD,IAAc;AACtC,MAAIA,QAAQ,IAAIA,QAAQ,CAACC,OAAzB,EAAkC;AAChCD,IAAAA,QAAQ,CAACC,OAAT,CAAiBC,KAAjB;AACD;AACF,CAJD;;AAMO,IAAMC,eAAe,GAAG,SAAyC;AAAA,MAAvCP,QAAuC,SAAvCA,QAAuC;AAAA,yBAA7BQ,IAA6B;AAAA,MAA7BA,IAA6B,2BAAtB,MAAsB;AAAA,MAAXC,KAAW;;AACtE,MAAMC,QAAQ,GAAGC,eAAMC,MAAN,CAAa,sBAAS,YAAT,CAAb,CAAjB;;AACA,MAAMR,QAAQ,GAAGO,eAAMC,MAAN,CAAa,IAAb,CAAjB;;AACA,sBACE,6BAAC,KAAD;AAAO,IAAA,OAAO,EAAEF,QAAQ,CAACL;AAAzB,kBACE,6BAAC,WAAD;AACE,IAAA,GAAG,EAAED,QADP;AAEE,IAAA,QAAQ,EAAC,GAFX;AAGE,IAAA,IAAI,EAAEI,IAHR;AAIE,IAAA,EAAE,EAAEE,QAAQ,CAACL,OAJf;AAKE,IAAA,QAAQ,EAAGN,KAAD,IAAWD,YAAY,CAAC;AAACC,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAD,CALnC;AAME,IAAA,KAAK,EAAC;AANR,IADF,eASE,6BAAC,UAAD;AACE,IAAA,OAAO,EAAE,MAAMG,iBAAiB,CAACC,QAAD,CADlC;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,IAAI,EAAC,SAHP;AAIE,IAAA,KAAK,EAAE;AAACS,MAAAA,KAAK,EAAE;AAAR;AAJT,KAKMJ,KALN,EATF,CADF;AAmBD,CAtBM;;;eAwBQF,e","sourcesContent":["import {Button} from '@sanity/ui'\r\nimport {uniqueId} from 'lodash'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst HiddenInput = styled.input`\r\n  overflow: hidden;\r\n  width: 0.1px;\r\n  height: 0.1px;\r\n  opacity: 0;\r\n  position: absolute;\r\n  z-index: -1;\r\n`\r\n\r\nconst Label = styled.label`\r\n  position: relative;\r\n`\r\n\r\nconst handleSelect = ({event, onSelect}) => {\r\n  if (onSelect) {\r\n    onSelect(event.target.files)\r\n  }\r\n}\r\n\r\nconst handleButtonClick = (inputRef) => {\r\n  if (inputRef && inputRef.current) {\r\n    inputRef.current.click()\r\n  }\r\n}\r\n\r\nexport const FileInputButton = ({onSelect, type = 'file', ...props}) => {\r\n  const _inputId = React.useRef(uniqueId('FileSelect'))\r\n  const inputRef = React.useRef(null)\r\n  return (\r\n    <Label htmlFor={_inputId.current}>\r\n      <HiddenInput\r\n        ref={inputRef}\r\n        tabindex=\"0\"\r\n        type={type}\r\n        id={_inputId.current}\r\n        onChange={(event) => handleSelect({event, onSelect})}\r\n        value=\"\"\r\n      />\r\n      <Button\r\n        onClick={() => handleButtonClick(inputRef)}\r\n        mode=\"default\"\r\n        tone=\"primary\"\r\n        style={{width: '100%'}}\r\n        {...props}\r\n      />\r\n    </Label>\r\n  )\r\n}\r\n\r\nexport default FileInputButton\r\n"],"file":"FileInputButton.js"}