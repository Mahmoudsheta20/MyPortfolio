{"version":3,"sources":["../../src/util/getPosterSrc.js"],"names":["getPosterSrc","playbackId","options","width","height","time","fit_mode","isSigned","params","toString","qs","signingKeyId","signingKeyPrivate","token","Object","keys","map","key","join"],"mappings":";;;;;;;AACA;;;;AADA;AAGe,SAASA,YAAT,CAAsBC,UAAtB,EAAgD;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAC7D,uBAAwFA,OAAxF,CAAOC,KAAP;AAAA,MAAOA,KAAP,+BAAe,GAAf;AAAA,wBAAwFD,OAAxF,CAAoBE,MAApB;AAAA,MAAoBA,MAApB,gCAA6B,IAA7B;AAAA,sBAAwFF,OAAxF,CAAmCG,IAAnC;AAAA,MAAmCA,IAAnC,8BAA0C,CAA1C;AAAA,0BAAwFH,OAAxF,CAA6CI,QAA7C;AAAA,MAA6CA,QAA7C,kCAAwD,UAAxD;AAAA,0BAAwFJ,OAAxF,CAAoEK,QAApE;AAAA,MAAoEA,QAApE,kCAA+E,KAA/E;AACA,MAAMC,MAAM,GAAG;AAACL,IAAAA,KAAD;AAAQE,IAAAA,IAAR;AAAcC,IAAAA;AAAd,GAAf;;AAEA,MAAIJ,OAAO,CAACE,MAAZ,EAAoB;AAClBI,IAAAA,MAAM,CAACJ,MAAP,GAAgBA,MAAM,CAACK,QAAP,EAAhB;AACD;;AAED,MAAIC,EAAJ;;AACA,MAAIH,QAAQ,IAAIL,OAAO,CAACS,YAApB,IAAoCT,OAAO,CAACU,iBAAhD,EAAmE;AACjE,QAAMC,KAAK,GAAG,0BACZZ,UADY,EAEZC,OAAO,CAACS,YAFI,EAGZT,OAAO,CAACU,iBAHI,EAIZ,GAJY,EAKZJ,MALY,CAAd;AAOAE,IAAAA,EAAE,mBAAYG,KAAZ,CAAF;AACD,GATD,MASO;AACLH,IAAAA,EAAE,GAAGI,MAAM,CAACC,IAAP,CAAYP,MAAZ,EACFQ,GADE,CACGC,GAAD,cAAYA,GAAZ,cAAmBT,MAAM,CAACS,GAAD,CAAzB,CADF,EAEFC,IAFE,CAEG,GAFH,CAAL;AAGD;;AAED,yCAAgCjB,UAAhC,4BAA4DS,EAA5D;AACD","sourcesContent":["/* eslint-disable camelcase */\r\nimport generateJwt from './generateJwt'\r\n\r\nexport default function getPosterSrc(playbackId, options = {}) {\r\n  const {width = 640, height = null, time = 1, fit_mode = 'preserve', isSigned = false} = options\r\n  const params = {width, time, fit_mode}\r\n\r\n  if (options.height) {\r\n    params.height = height.toString()\r\n  }\r\n\r\n  let qs\r\n  if (isSigned && options.signingKeyId && options.signingKeyPrivate) {\r\n    const token = generateJwt(\r\n      playbackId,\r\n      options.signingKeyId,\r\n      options.signingKeyPrivate,\r\n      't',\r\n      params\r\n    )\r\n    qs = `token=${token}`\r\n  } else {\r\n    qs = Object.keys(params)\r\n      .map((key) => `${key}=${params[key]}`)\r\n      .join('&')\r\n  }\r\n\r\n  return `https://image.mux.com/${playbackId}/thumbnail.png?${qs}`\r\n}\r\n"],"file":"getPosterSrc.js"}